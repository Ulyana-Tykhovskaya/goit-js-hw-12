import{a as b,S as f,i}from"./assets/vendor-tnUJPedx.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(e){if(e.ep)return;e.ep=!0;const r=n(e);fetch(e.href,r)}})();const S="48826874-42260f613544ef710739f6c10",w="https://pixabay.com/api/";async function L(o,t=1,n=40){try{const s=await b.get(w,{params:{key:S,q:o,image_type:"photo",orientation:"horizontal",safesearch:!0,page:t,per_page:n}});return console.log("API Response:",s.data),s.data}catch(s){throw console.error("Ошибка запроса:",s),s}}const q=document.querySelector(".gallery");let v=new f(".gallery a");function P(o){const t=o.map(({webformatURL:n,largeImageURL:s,tags:e,likes:r,views:a,comments:m,downloads:h})=>`
        <a href="${s}" class="gallery-item">
            <img src="${n}" alt="${e}" loading="lazy" />
            <div class="info">
                <p>❤️ ${r}  👁 ${a}  💬 ${m}  ⬇️ ${h}</p>
            </div>
        </a>`).join("");q.insertAdjacentHTML("beforeend",t),v.refresh()}const p=document.querySelector("#search-form"),y=document.querySelector("#loader"),$=document.querySelector(".gallery"),l=document.querySelector(".btn"),I=p.querySelector("input");let c=1;const d=40;let u="";l.style.display="none";y.style.display="none";const A=new f(".gallery a",{captionsData:"alt",captionDelay:250});p.addEventListener("submit",async o=>{if(o.preventDefault(),u=I.value.trim(),!u){i.warning({title:"Ошибка",message:"Введите поисковый запрос!"});return}c=1,$.innerHTML="",l.style.display="none",y.style.display="block",await g(!1)});l.addEventListener("click",async()=>{c+=1,y.style.display="block",await g(!0)});async function g(o){try{const t=await L(u,c,d);if(!t.hits||t.hits.length===0){i.error({title:"Ошибка",message:"Sorry, there are no images matching your search query. Please try again!"});return}P(t.hits),A.refresh(),o&&E(),c*d>=t.totalHits?(l.style.display="none",i.info({title:"Конец результатов",message:"We're sorry, but you've reached the end of search results."})):l.style.display="block"}catch(t){console.error("Ошибка при загрузке изображений:",t),i.error({title:"Ошибка",message:"Не удалось загрузить больше изображений"})}finally{y.style.display="none"}}function E(){const o=document.querySelectorAll(".gallery-item");if(o.length>0){const{height:t}=o[0].getBoundingClientRect();window.scrollBy({top:t*2,behavior:"smooth"})}}
//# sourceMappingURL=index.js.map
